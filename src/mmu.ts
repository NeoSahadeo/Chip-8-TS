export default class MMU {
	memory: Uint8Array;
	constructor() {
		this.memory = new Uint8Array(4096);
		this.load_font();
	}

	get(addr: number) {
		return this.memory[addr];
	}
	set(addr: number, value: number) {
		this.memory[addr] = value;
	}

	load_font() {
		const font = [
			// 0
			0xf0, 0x90, 0x90, 0x90, 0xf0,
			// 1
			0x20, 0x60, 0x20, 0x20, 0x70,
			// 2
			0xf0, 0x10, 0xf0, 0x80, 0xf0,
			// 3
			0xf0, 0x10, 0xf0, 0x10, 0xf0,
			// 4
			0x90, 0x90, 0xf0, 0x10, 0x10,
			// 5
			0xf0, 0x80, 0xf0, 0x10, 0xf0,
			// 6
			0xf0, 0x80, 0xf0, 0x90, 0xf0,
			// 7
			0xf0, 0x10, 0x20, 0x40, 0x40,
			// 8
			0xf0, 0x90, 0xf0, 0x90, 0xf0,
			// 9
			0xf0, 0x90, 0xf0, 0x10, 0xf0,
			// A
			0xf0, 0x90, 0xf0, 0x90, 0x90,
			// B
			0xe0, 0x90, 0xe0, 0x90, 0xe0,
			// C
			0xf0, 0x80, 0x80, 0x80, 0xf0,
			// D
			0xe0, 0x90, 0x90, 0x90, 0xe0,
			// E
			0xf0, 0x80, 0xf0, 0x80, 0xf0,
			// F
			0xf0, 0x80, 0xf0, 0x80, 0x80,
		];

		for (let x = 0; x < font.length; x++) {
			this.memory[0x50 + x] = font[x];
		}
	}
}
